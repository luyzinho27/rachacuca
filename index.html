<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Racha Cuca - Jogo de Quebra-Cabe√ßa</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Rubik:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="icon" type="image/x-icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üß©</text></svg>">
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
</head>
<body>
    <div class="container">
        <!-- Header com navega√ß√£o -->
        <header class="header">
            <div class="logo">
                <h1><i class="fas fa-puzzle-piece"></i> RACHA-CUCA</h1>
                <p class="subtitle">Quebra-cabe√ßa num√©rico cl√°ssico</p>
            </div>
            
            <nav class="main-nav">
                <ul>
                    <li><a href="#" id="nav-home" class="nav-link active"><i class="fas fa-home"></i> In√≠cio</a></li>
                    <li><a href="#" id="nav-ranking" class="nav-link"><i class="fas fa-trophy"></i> Ranking</a></li>
                    <li><a href="#" id="nav-profile" class="nav-link"><i class="fas fa-user"></i> Perfil</a></li>
                    <li id="admin-nav-item" style="display: none;">
                        <a href="#" id="nav-admin" class="nav-link"><i class="fas fa-cog"></i> Admin</a>
                    </li>
                </ul>
            </nav>
            
            <div class="auth-section">
                <div id="user-info" style="display: none;">
                    <span id="user-name"></span>
                    <button id="logout-btn" class="btn btn-small btn-secondary">
                        <i class="fas fa-sign-out-alt"></i> Sair
                    </button>
                </div>
                <div id="auth-buttons">
                    <button id="login-btn" class="btn btn-small btn-primary">
                        <i class="fas fa-sign-in-alt"></i> Entrar
                    </button>
                    <button id="register-btn" class="btn btn-small btn-secondary">
                        <i class="fas fa-user-plus"></i> Cadastrar
                    </button>
                </div>
            </div>
        </header>

        <!-- Conte√∫do principal -->
        <main class="main-content">
            <!-- Se√ß√£o do Jogo (P√°gina inicial) -->
            <section id="game-section" class="page-section active">
                <div class="game-header">
                    <div class="game-info">
                        <div class="info-box">
                            <span class="info-label">Movimentos</span>
                            <span id="move-counter" class="info-value">0</span>
                        </div>
                        <div class="info-box">
                            <span class="info-label">Tempo</span>
                            <span id="timer" class="info-value">00:00</span>
                        </div>
                        <div class="info-box">
                            <span class="info-label">Dificuldade</span>
                            <span id="difficulty" class="info-value">Normal</span>
                        </div>
                    </div>
                </div>
                
                <div class="game-container">
                    <div class="puzzle-container">
                        <div id="puzzle-board" class="puzzle-board">
                            <!-- As pe√ßas do quebra-cabe√ßa ser√£o geradas via JavaScript -->
                        </div>
                        
                        <div class="puzzle-controls">
                            <button id="shuffle-btn" class="btn btn-primary">
                                <i class="fas fa-random"></i> Embaralhar
                            </button>
                            <button id="solve-btn" class="btn btn-secondary">
                                <i class="fas fa-lightbulb"></i> Ver Solu√ß√£o
                            </button>
                            <button id="reset-btn" class="btn btn-secondary">
                                <i class="fas fa-redo"></i> Reiniciar
                            </button>
                            <button id="hint-btn" class="btn btn-secondary">
                                <i class="fas fa-question-circle"></i> Dica
                            </button>
                        </div>
                    </div>
                    
                    <div class="game-sidebar">
                        <div class="instructions">
                            <h2><i class="fas fa-info-circle"></i> Como Jogar</h2>
                            <p>Arraste as pe√ßas para o espa√ßo vazio para reorganiz√°-las na ordem correta.</p>
                            <p>O objetivo √© ordenar os n√∫meros de 1 a 15 da esquerda para a direita e de cima para baixo, com o espa√ßo vazio no canto inferior direito.</p>
                            
                            <div class="difficulty-selector">
                                <h3><i class="fas fa-sliders-h"></i> Dificuldade</h3>
                                <div class="difficulty-options">
                                    <button class="difficulty-btn active" data-difficulty="easy">F√°cil</button>
                                    <button class="difficulty-btn" data-difficulty="normal">Normal</button>
                                    <button class="difficulty-btn" data-difficulty="hard">Dif√≠cil</button>
                                </div>
                            </div>
                            
                            <div id="save-score-container" style="display: none;">
                                <button id="save-score-btn" class="btn btn-primary btn-block">
                                    <i class="fas fa-save"></i> Salvar Pontua√ß√£o
                                </button>
                            </div>
                            
                            <div class="completion-message" id="completion-message">
                                <h3><i class="fas fa-trophy"></i> Parab√©ns!</h3>
                                <p>Voc√™ completou o quebra-cabe√ßa em <span id="final-moves">0</span> movimentos e <span id="final-time">00:00</span>!</p>
                                <div id="completion-buttons">
                                    <button id="play-again-btn" class="btn btn-primary">
                                        <i class="fas fa-play"></i> Jogar Novamente
                                    </button>
                                </div>
                            </div>
                        </div>
                        
                        <div class="solution-preview">
                            <h3><i class="fas fa-check-circle"></i> Solu√ß√£o</h3>
                            <div class="solution-board">
                                <!-- Grade de solu√ß√£o ser√° gerada via JavaScript -->
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Se√ß√£o de Ranking -->
            <section id="ranking-section" class="page-section">
                <div class="section-header">
                    <h2><i class="fas fa-trophy"></i> Ranking de Pontua√ß√µes</h2>
                    <div class="ranking-filters">
                        <select id="ranking-difficulty" class="filter-select">
                            <option value="all">Todas as Dificuldades</option>
                            <option value="easy">F√°cil</option>
                            <option value="normal">Normal</option>
                            <option value="hard">Dif√≠cil</option>
                        </select>
                        <select id="ranking-period" class="filter-select">
                            <option value="all">Todo o Per√≠odo</option>
                            <option value="today">Hoje</option>
                            <option value="week">Esta Semana</option>
                            <option value="month">Este M√™s</option>
                        </select>
                    </div>
                </div>
                
                <div class="ranking-container">
                    <div id="ranking-loading" class="loading-spinner">
                        <div class="spinner"></div>
                        <p>Carregando ranking...</p>
                    </div>
                    <div id="ranking-list" class="ranking-list">
                        <!-- Ranking ser√° carregado via JavaScript -->
                    </div>
                </div>
            </section>

            <!-- Se√ß√£o de Perfil -->
            <section id="profile-section" class="page-section">
                <div class="section-header">
                    <h2><i class="fas fa-user"></i> Meu Perfil</h2>
                </div>
                
                <div class="profile-container">
                    <div class="profile-info">
                        <div class="profile-avatar">
                            <i class="fas fa-user-circle"></i>
                        </div>
                        <div class="profile-details">
                            <h3 id="profile-name">Carregando...</h3>
                            <p id="profile-email"></p>
                            <p id="profile-role"></p>
                            <p id="profile-joined"></p>
                        </div>
                    </div>
                    
                    <div class="profile-stats">
                        <h3><i class="fas fa-chart-line"></i> Minhas Estat√≠sticas</h3>
                        <div class="stats-grid">
                            <div class="stat-card">
                                <div class="stat-value" id="total-games">0</div>
                                <div class="stat-label">Jogos Conclu√≠dos</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-value" id="best-moves">-</div>
                                <div class="stat-label">Melhor (movimentos)</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-value" id="best-time">-</div>
                                <div class="stat-label">Melhor (tempo)</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-value" id="avg-moves">-</div>
                                <div class="stat-label">M√©dia de Movimentos</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="profile-scores">
                        <h3><i class="fas fa-history"></i> Minhas √öltimas Pontua√ß√µes</h3>
                        <div id="user-scores-loading" class="loading-spinner">
                            <div class="spinner"></div>
                            <p>Carregando pontua√ß√µes...</p>
                        </div>
                        <div id="user-scores-list" class="scores-list">
                            <!-- Pontua√ß√µes do usu√°rio ser√£o carregadas via JavaScript -->
                        </div>
                    </div>
                </div>
            </section>

            <!-- Se√ß√£o de Administra√ß√£o -->
            <section id="admin-section" class="page-section">
                <div class="section-header">
                    <h2><i class="fas fa-cog"></i> Painel de Administra√ß√£o</h2>
                    <p class="section-subtitle">Gerencie usu√°rios e configura√ß√µes do sistema</p>
                </div>
                
                <div class="admin-container">
                    <div class="admin-tabs">
                        <button class="admin-tab active" data-tab="users-tab">
                            <i class="fas fa-users"></i> Gerenciar Usu√°rios
                        </button>
                        <button class="admin-tab" data-tab="scores-tab">
                            <i class="fas fa-trophy"></i> Todas as Pontua√ß√µes
                        </button>
                        <button class="admin-tab" data-tab="register-tab">
                            <i class="fas fa-user-plus"></i> Cadastrar Novo Usu√°rio
                        </button>
                    </div>
                    
                    <div class="admin-content">
                        <!-- Aba: Gerenciar Usu√°rios -->
                        <div id="users-tab" class="admin-tab-content active">
                            <h3><i class="fas fa-users"></i> Lista de Usu√°rios</h3>
                            <div class="search-box">
                                <input type="text" id="user-search" placeholder="Buscar usu√°rio por nome ou email...">
                                <i class="fas fa-search"></i>
                            </div>
                            
                            <div id="users-loading" class="loading-spinner">
                                <div class="spinner"></div>
                                <p>Carregando usu√°rios...</p>
                            </div>
                            
                            <div id="users-list" class="users-list">
                                <!-- Lista de usu√°rios ser√° carregada via JavaScript -->
                            </div>
                        </div>
                        
                        <!-- Aba: Todas as Pontua√ß√µes -->
                        <div id="scores-tab" class="admin-tab-content">
                            <h3><i class="fas fa-trophy"></i> Todas as Pontua√ß√µes do Sistema</h3>
                            <div class="admin-filters">
                                <select id="admin-score-difficulty" class="filter-select">
                                    <option value="all">Todas as Dificuldades</option>
                                    <option value="easy">F√°cil</option>
                                    <option value="normal">Normal</option>
                                    <option value="hard">Dif√≠cil</option>
                                </select>
                                <input type="date" id="admin-score-date" class="filter-select">
                                <button id="clear-scores-btn" class="btn btn-danger">
                                    <i class="fas fa-trash"></i> Limrar Pontua√ß√µes Antigas
                                </button>
                            </div>
                            
                            <div id="admin-scores-loading" class="loading-spinner">
                                <div class="spinner"></div>
                                <p>Carregando pontua√ß√µes...</p>
                            </div>
                            
                            <div id="admin-scores-list" class="scores-list">
                                <!-- Todas as pontua√ß√µes ser√£o carregadas via JavaScript -->
                            </div>
                        </div>
                        
                        <!-- Aba: Cadastrar Novo Usu√°rio -->
                        <div id="register-tab" class="admin-tab-content">
                            <h3><i class="fas fa-user-plus"></i> Cadastrar Novo Usu√°rio</h3>
                            <p class="form-info">Como administrador, voc√™ pode cadastrar novos usu√°rios (jogadores ou administradores).</p>
                            
                            <form id="admin-register-form" class="auth-form">
                                <div class="form-group">
                                    <label for="admin-name">Nome Completo *</label>
                                    <input type="text" id="admin-name" required>
                                </div>
                                
                                <div class="form-group">
                                    <label for="admin-email">Email *</label>
                                    <input type="email" id="admin-email" required>
                                </div>
                                
                                <div class="form-group">
                                    <label for="admin-password">Senha *</label>
                                    <input type="password" id="admin-password" required minlength="6">
                                </div>
                                
                                <div class="form-group">
                                    <label for="admin-confirm-password">Confirmar Senha *</label>
                                    <input type="password" id="admin-confirm-password" required>
                                </div>
                                
                                <div class="form-group">
                                    <label for="admin-role">Tipo de Usu√°rio *</label>
                                    <select id="admin-role" required>
                                        <option value="player">Jogador</option>
                                        <option value="admin">Administrador</option>
                                    </select>
                                </div>
                                
                                <div class="form-group">
                                    <button type="submit" class="btn btn-primary btn-block">
                                        <i class="fas fa-user-plus"></i> Cadastrar Usu√°rio
                                    </button>
                                </div>
                                
                                <div id="admin-register-message" class="form-message"></div>
                            </form>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Se√ß√£o de Login/Cadastro (Modal) -->
            <div id="auth-modal" class="modal">
                <div class="modal-content auth-modal-content">
                    <div class="modal-header">
                        <h2 id="auth-modal-title">Entrar na Conta</h2>
                        <span class="close-modal">&times;</span>
                    </div>
                    
                    <div class="auth-tabs">
                        <button id="tab-login" class="auth-tab active">Login</button>
                        <button id="tab-register" class="auth-tab">Cadastro</button>
                        <button id="tab-reset" class="auth-tab">Recuperar Senha</button>
                    </div>
                    
                    <div class="auth-content">
                        <!-- Formul√°rio de Login -->
                        <form id="login-form" class="auth-form active">
                            <div class="form-group">
                                <label for="login-email">Email</label>
                                <input type="email" id="login-email" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="login-password">Senha</label>
                                <input type="password" id="login-password" required>
                            </div>
                            
                            <div class="form-group">
                                <button type="submit" class="btn btn-primary btn-block">
                                    <i class="fas fa-sign-in-alt"></i> Entrar
                                </button>
                            </div>
                            
                            <div id="login-message" class="form-message"></div>
                        </form>
                        
                        <!-- Formul√°rio de Cadastro -->
                        <form id="register-form" class="auth-form">
                            <div class="form-group">
                                <label for="register-name">Nome Completo *</label>
                                <input type="text" id="register-name" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="register-email">Email *</label>
                                <input type="email" id="register-email" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="register-password">Senha *</label>
                                <input type="password" id="register-password" required minlength="6">
                                <small class="form-hint">M√≠nimo de 6 caracteres</small>
                            </div>
                            
                            <div class="form-group">
                                <label for="register-confirm-password">Confirmar Senha *</label>
                                <input type="password" id="register-confirm-password" required>
                            </div>
                            
                            <div class="form-group checkbox-group" id="admin-register-container">
                                <input type="checkbox" id="register-admin">
                                <label for="register-admin">Cadastrar como Administrador</label>
                                <small class="form-hint">Apenas dispon√≠vel para o primeiro administrador do sistema</small>
                            </div>
                            
                            <div class="form-group">
                                <button type="submit" class="btn btn-primary btn-block">
                                    <i class="fas fa-user-plus"></i> Criar Conta
                                </button>
                            </div>
                            
                            <div id="register-message" class="form-message"></div>
                        </form>
                        
                        <!-- Formul√°rio de Recupera√ß√£o de Senha -->
                        <form id="reset-form" class="auth-form">
                            <div class="form-group">
                                <label for="reset-email">Email</label>
                                <input type="email" id="reset-email" required>
                            </div>
                            
                            <div class="form-group">
                                <button type="submit" class="btn btn-primary btn-block">
                                    <i class="fas fa-envelope"></i> Enviar Link de Recupera√ß√£o
                                </button>
                            </div>
                            
                            <div id="reset-message" class="form-message"></div>
                            
                            <div class="form-info">
                                <p>Um link para redefinir sua senha ser√° enviado para o email fornecido.</p>
                            </div>
                        </form>
                    </div>
                </div>
            </div>

            <!-- Modal de Edi√ß√£o de Usu√°rio -->
            <div id="edit-user-modal" class="modal">
                <div class="modal-content">
                    <div class="modal-header">
                        <h2><i class="fas fa-user-edit"></i> Editar Usu√°rio</h2>
                        <span class="close-modal">&times;</span>
                    </div>
                    <div class="modal-body">
                        <form id="edit-user-form">
                            <input type="hidden" id="edit-user-id">
                            
                            <div class="form-group">
                                <label for="edit-user-name">Nome Completo *</label>
                                <input type="text" id="edit-user-name" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="edit-user-email">Email *</label>
                                <input type="email" id="edit-user-email" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="edit-user-role">Tipo de Usu√°rio *</label>
                                <select id="edit-user-role" required>
                                    <option value="player">Jogador</option>
                                    <option value="admin">Administrador</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label for="edit-user-password">Nova Senha (deixe em branco para n√£o alterar)</label>
                                <input type="password" id="edit-user-password">
                                <small class="form-hint">M√≠nimo de 6 caracteres</small>
                            </div>
                            
                            <div class="form-group">
                                <label for="edit-user-status">Status da Conta</label>
                                <select id="edit-user-status">
                                    <option value="active">Ativa</option>
                                    <option value="suspended">Suspensa</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <button type="submit" class="btn btn-primary btn-block">
                                    <i class="fas fa-save"></i> Salvar Altera√ß√µes
                                </button>
                            </div>
                            
                            <div id="edit-user-message" class="form-message"></div>
                        </form>
                    </div>
                </div>
            </div>
        </main>

        <footer class="footer">
            <p>Jogo Racha Cuca | Desenvolvido com HTML, CSS, JavaScript e Firebase</p>
            <p class="firebase-status" id="firebase-status">
                <i class="fas fa-database"></i> Firebase: <span id="db-status">Conectando...</span>
            </p>
        </footer>
    </div>

    <script src="script.js"></script>
</body>
</html>